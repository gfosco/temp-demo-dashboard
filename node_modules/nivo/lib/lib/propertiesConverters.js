/*
 * This file is part of the nivo project.
 *
 * (c) 2016 RaphaÃ«l Benitte
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.convertGetter = exports.convertLabel = undefined;

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _d = require('d3');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var convertLabel = exports.convertLabel = function convertLabel(_label, labelFormat) {
    if (_lodash2.default.isFunction(_label)) {
        return _label;
    }

    var label = function label(d) {
        return _lodash2.default.get(d, _label);
    };

    var formatter = void 0;
    if (labelFormat) {
        formatter = (0, _d.format)(labelFormat);
    }

    return function (data) {
        var labelOutput = label(data);

        if (formatter) {
            labelOutput = formatter(labelOutput);
        }

        return labelOutput;
    };
};

var convertGetter = exports.convertGetter = function convertGetter(_property) {
    if (_lodash2.default.isFunction(_property)) {
        return _property;
    }

    return function (d) {
        return _lodash2.default.get(d, _property);
    };
};